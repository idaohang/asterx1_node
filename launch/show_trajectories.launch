<launch>

<arg name="bag_file_name" default="/home/ptirindelli/rosbags/teo/2016-03-07-16-56-11.bag" />
	
  <node name="rviz"
		pkg="rviz"
		type="rviz"
		args="-d $(find asterx1_node)/rviz/detail.rviz"/>

  <node pkg="asterx1_node"
        type="raw_receiver_node"
        name="raw_receiver_node">
        <!-- output="screen"> -->
    <!-- <remap from="/iri_asterx1_gps/gps_meas" to="/teo/sensors/gps/gps_meas"/> -->
    <!-- <remap from="/iri_asterx1_gps/gps_raw_data" to="/teo/sensors/gps/gps_raw_data"/> -->
  </node>

  <node pkg="asterx1_node"
        type="trilat_node"
        name="trilat_node" 
        output="screen">
         <param name="sampling_rate_real" value="7"/>
         <param name="sampling_rate_est" value="3"/>
    <!-- <remap from="/iri_asterx1_gps/gps_ecef" to="/teo/sensors/gps/gps_ecef"/> -->
  </node>

  <node pkg="asterx1_node"
        type="viz_helper"
        name="viz_helper">
        <param name="trajectory_mode" value="true"/>
        <param name="map_p_x" value="4789373"/>
        <param name="map_p_y" value="177039"/>
        <param name="map_p_z" value="4194527"/>
        <param name="sampling_rate_real" value="10"/>
        <param name="sampling_rate_est" value="10"/>
    <!-- <remap from="/real_fix" to="/teo/sensors/gps/gps_ecef"/> -->
    <!-- <remap from="/iri_asterx1_gps/gps_ecef" to="/teo/sensors/gps/gps_ecef"/> -->
  </node>

<node pkg="rosbag"
      type="play"
      name="rosbag"
      args="-d 0 -r 20 -l --clock -k $(arg bag_file_name)"/>

<param name="use_sim_time" value="true" />

</launch>

